<div class="container mt-5">

  <!-- Header + bouton Nouvelle partie -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="mb-0">Parties en cours</h1>

    <%= button_to "➕ Nouvelle partie",
          games_path,  # POST /games
          method: :post,
          class: "btn-dd px-4" %>
  </div>

  <!-- Si aucune partie -->
  <% if @games.empty? %>

    <div class="alert alert-info text-center py-5">
      <h4 class="mb-3">Aucune partie en cours</h4>
      <p>Commence une nouvelle aventure fantastique !</p>

      <%= button_to "➕ Démarrer une nouvelle partie",
            games_path,
            method: :post,
            class: "btn-dd mt-3 px-5" %>
    </div>

  <% else %>

    <!-- Parties existantes -->
    <div class="row">
      <% @games.each do |game| %>
        <div class="col-md-4 mb-4">
          <div class="card shadow-sm h-100">

            <div class="card-body d-flex flex-column">

              <h5 class="card-title">Partie #<%= game.id %></h5>

              <p class="card-text">
                <strong>Scénario :</strong>
                <%= game.scenario&.title || "Non défini" %>
              </p>

              <p class="card-text">
                <strong>Personnage :</strong>
                <%= game.character&.name || "Non défini" %>
              </p>

              <div class="mt-auto">
                <%= link_to "▶ Continuer",
                    game_path(game),
                    class: "btn btn-outline-primary w-100" %>
              </div>

            </div>

          </div>
        </div>
      <% end %>
    </div>

  <% end %>
</div>
